<html>
<script>
  function validateform1()
  {
    if(!checkname1())
        return false;
    if(!checkdate1())
      return false;
    if(!checknumber1())
      return false;
    if(!checkcardno1())
      return false;
    if(!checkexpdate1())
      return false;
    if(!checkcvcno1())
      return false;
    return true;
  }

  function checkname1()
  {
    var name = document.forms["P3"]["Cname"].value;
    var letter = name.charAt(0);
    letter = letter.toUpperCase();
    if (letter >= "A" && letter <= "Z")
      return true;
    window.alert("Name must start with an alphabet.");
    return false
  }

  function checkdate1()
  {
    var date = document.forms["P3"]["Odate"].value;
    if(date.length != 10)
    {
      window.alert("Order Date is in a invalid format.(DD/MM/YYYY)");
      return false;
    }
    else if (date.charAt(2) != '/')
    {
      window.alert("Order Date is in a invalid format.(DD/MM/YYYY)");
      return false;
    }
    else if (date.charAt(5) != '/') 
    {
      window.alert("Order Date is in a invalid format.(DD/MM/YYYY)");
      return false;
    }
    else
    {
      var day = date.substr(0,2);
      var month = date.substr(3,2);
      if(day > 31)
      {
        window.alert("Day value of Order Date is invalid.");
        return false;
      }
      else if(month > 12)
      {
        window.alert("Month value of Order Date is invalid.");
        return false;
      }
      else
        return true;
    }
  }

  function checknumber1()
  {
    var number = document.forms["P3"]["Cno"].value;
    if(number.length != 14)
      window.alert("Contact Number is in a invalid format.(XX)XXXXXXXXXX");
    else if(number.charAt(0) != '(')
      window.alert("Contact Number is in a invalid format.(XX)XXXXXXXXXX");
    else if(number.charAt(3) != ')')
      window.alert("Contact Number is in a invalid format.(XX)XXXXXXXXXX");
    else
    {
      for (var i = 1; i < number.length; i++) 
      {
        if(i != 3)
          if(isNaN(number[i]))
          {
            window.alert("Invalid character found in Contact Number");
            return false;
          }
      }
      return true;
    }
    return false;
  }

  function checkcardno1()
  {
    var cardno = document.forms["P3"]["CCno"].value;
    if(cardno.length != 19)
      window.alert("Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX");
    else if((cardno.charAt(4) != '-'))
    {
      window.alert("Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX");
    }
    else if((cardno.charAt(9) != '-'))
    {
      window.alert("Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX");
    }
    else if((cardno.charAt(14) != '-'))
    {
      window.alert("Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX");
    }
    
    else
    {
      for (var i = 0; i < cardno.length; i++)
        if(isNaN(cardno[i]))
          if(!(i == 4 || i == 9 || i == 14))
          {
            window.alert("Invalid character found in Credit Card Number");
            return false;
          } 
      return true;
    }
    return false;
  }

  function checkexpdate1()
  {
    var month = document.forms["P3"]["ExpDateM"].value;
    var year = document.forms["P3"]["ExpDateY"].value;
    if(month > 12)
    {
      window.alert("Month value of Expiry Date is invalid.");
      return false;
    }
    else if(year > 2027 || year < 2017)
    {
      window.alert("Year value of Expiry Date is invalid.");
      return false;
    }
    return true;
  }

  function checkcvcno1()
  {
    var cvcno = document.forms["P3"]["CVCno"].value;
    if(cvcno.length != 3)
      window.alert("CVC Number does not have 3 digits")
    else
    {
      for (var i = 0; i < cvcno.length; i++)
        if(isNaN(cvcno[i]))
        {
          window.alert("Invalid character found in CVC Number");
          return false;
        }
      return true;
    }
    return false;
  }

  function validateform2()
  {
    if(!checkname2())
        return false;
    if(!checkdate2())
      return false;
    if(!checknumber2())
      return false;
    if(!checkcardno2())
      return false;
    if(!checkexpdate2())
      return false;
    if(!checkcvcno2())
      return false;
    return true;
  }

  function checkname2()
  {
    var name = document.forms["P4"]["Cname"].value;
    var letter = name.charAt(0);
    letter = letter.toUpperCase();
    if (letter >= "A" && letter <= "Z")
    {
      document.getElementById("CnameError").innerHTML = "";
      return true;
    }
    document.getElementById("CnameError").innerHTML = "Name must start with an alphabet.";
    return false
  }

  function checkdate2()
  {
    var date = document.forms["P4"]["Odate"].value;
    if(date.length != 10)
    {
      document.getElementById("OdateError").innerHTML = "Order Date is in a invalid format.(DD/MM/YYYY)";
      return false;
    }
    else if (date.charAt(2) != '/')
    {
      document.getElementById("OdateError").innerHTML = "Order Date is in a invalid format.(DD/MM/YYYY)";
      return false;
    }
    else if (date.charAt(5) != '/') 
    {
      document.getElementById("OdateError").innerHTML = "Order Date is in a invalid format.(DD/MM/YYYY)";
      return false;
    }
    else
    {
      var day = date.substr(0,2);
      var month = date.substr(3,2);
      if(day > 31)
      {
        document.getElementById("OdateError").innerHTML = "Day value of Order Date is invalid.";
        return false;
      }
      else if(month > 12)
      {
        document.getElementById("OdateError").innerHTML = "Month value of Order Date is invalid.";
        return false;
      }
      else
      {
        document.getElementById("OdateError").innerHTML = "";
        return true;
      }
    }
  }

  function checknumber2()
  {
    var number = document.forms["P4"]["Cno"].value;
    if(number.length != 14)
      document.getElementById("CnoError").innerHTML = "Contact Number is in a invalid format.(XX)XXXXXXXXXX";
    else if(number.charAt(0) != '(')
      document.getElementById("CnoError").innerHTML = "Contact Number is in a invalid format.(XX)XXXXXXXXXX";
    else if(number.charAt(3) != ')')
       document.getElementById("CnoError").innerHTML = "Contact Number is in a invalid format.(XX)XXXXXXXXXX";
    else
    {
      for (var i = 1; i < number.length; i++) 
      {
        if(i != 3)
          if(isNaN(number[i]))
          {
             document.getElementById("CnoError").innerHTML = "Invalid character found in Contact Number";
            return false;
          }
      }
      document.getElementById("CnoError").innerHTML = "";
      return true;
    }
    return false;
  }

  function checkcardno2()
  {
    var cardno = document.forms["P4"]["CCno"].value;
    if(cardno.length != 19)
      document.getElementById("CCnoError").innerHTML = "Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX";
    else if((cardno.charAt(4) != '-'))
    {
      document.getElementById("CCnoError").innerHTML = "Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX";
    }
    else if((cardno.charAt(9) != '-'))
    {
      document.getElementById("CCnoError").innerHTML = "Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX";
    }
    else if((cardno.charAt(14) != '-'))
    {
      document.getElementById("CCnoError").innerHTML = "Credit Card Number is in a invalid format. XXXX-XXXX-XXXX-XXXX";
    }
    
    else
    {
      for (var i = 0; i < cardno.length; i++)
        if(isNaN(cardno[i]))
          if(!(i == 4 || i == 9 || i == 14))
          {
            document.getElementById("CCnoError").innerHTML = "Invalid character found in Credit Card Number";
            return false;
          }
      document.getElementById("CCnoError").innerHTML = "";
      return true;
    }
    return false;
  }

  function checkexpdate2()
  {
    var month = document.forms["P4"]["ExpDateM"].value;
    var year = document.forms["P4"]["ExpDateY"].value;
    var mfail = false;
    var yfail = false;
    if(month > 12)
      mfail = true;
    if(year > 2027 || year < 2017)
      yfail = true;
    if(mfail && yfail)
    {
      document.getElementById("ExpDateError").innerHTML = "Invalid Month and Year for Expiry Date";
      return false;
    }
    else if(mfail)
    {
      document.getElementById("ExpDateError").innerHTML = "Invalid Month for Expiry Date";
      return false;
    }
    else if(yfail)
    {
      document.getElementById("ExpDateError").innerHTML = "Invalid Year for Expiry Date";
      return false;
    }
    else
    {
      document.getElementById("ExpDateError").innerHTML = "";
      return true;
    }
  }

  function checkcvcno2()
  {
    var cvcno = document.forms["P4"]["CVCno"].value;
    if(cvcno.length != 3)
     document.getElementById("CVCnoError").innerHTML = "CVC Number does not have 3 digits";
    else
    {
      for (var i = 0; i < cvcno.length; i++)
        if(isNaN(cvcno[i]))
        {
          document.getElementById("CVCnoError").innerHTML ="Invalid character found in CVC Number";
          return false;
        }
      document.getElementById("CVCnoError").innerHTML = "";
      return true;
    }
    return false;
  }
</script>
<style>
  #table1{
  border:0px solid transparent;
  border-collapse: collapse;
  padding: 5px;
  color: white; 
  }
  #td1{
    width: 200px;
  }
  #td2{
    width: 200px;
  }
  #td3{
    width: 30%;
  }
  .ErrorMessage{
    padding-left:15px; 
    color: red;
    font-weight: 600;
  }
  #form1 {
  background-color: #093145;
  width: 600;
  color: white;
  }
  #form2 {
  background-color: #424242;
  width: 600;
  color: white;
  }
  #form3 {
  background-color: #9A2617;
  width: 600;
  color: white;
  }
</style>
<head>
  <title>Assignment 4 Solution</title>
</head>
<body>
  <h1><b>Assignment 4 Solutuion</b></h1>
  <hr />
  <b>I have read the policy for plagiarism at Wollongong University.</b> <br />
  <b>I declare that this assignment solution is enirely my work.</b> <br />
  <hr />

  <h1><b>Part 1</b></h1>
  <table border="2" width="50%">
    <tr>
      <td colspan="2"><b>STUDENT DETAILS</b></td>
    </tr>
    <tr>
      <td width="30%">STUDENT NUMBER</td>
        <td>6212748</td>
    </tr>
    <tr>
      <td width="30%">STUDENT FAMILY NAME</td>
        <td>LUR</td>
    </tr>
    <tr>
      <td width="30%">STUDENT GIVEN NAME</td>
        <td>BING HUII</td>
    </tr>
    <tr>
      <td width="30%">UOW EMAIL</td>
        <td>bhl736@uowmail.edu.au</td>
    </tr>
    <tr>
      <td colspan="2"><b>ASSIGNMENT DETAILS</b></td>
    </tr>
    <tr>
      <td width="30%">SUBJECT CODE</td>
        <td>CSIT128</td>
    </tr>
    <tr>
      <td width="30%">SUBJECT NAME</td>
        <td>Introduction to Web Technology</td>
    </tr>
    <tr>
      <td width="30%">ASSIGNMENT NUMBER</td>
        <td>4</td>
    </tr>
    <tr>
      <td width="30%">ASSIGNMENT DUE DATE</td>
        <td>29/02/2019</td>
    </tr>
    <tr>
      <td width="30%">LAB TIME</td>
        <td>08:30</td>
    </tr>
  </table>
  <hr />
  <h1>Part 2: Pattern Attribute Validation</h1>
  <form name="P2" id="form1">
    <table border="2" width="650px" border="0" id="table1">
      <tr>
        <td id="td1">Customer Name</td>
        <td><input name="Cname" type="text" maxlength="128" size="50" 
          pattern="^[a-zA-Z][a-zA-Z\s]{1,20}$" title="Name must start with an alphabet" /></td>
      </tr>
      <tr>
        <td id="td1">Order Date (DD/MM/YYYY)</td>
        <td><input name="Odate" type="text" maxlength="128" size="50" 
          pattern="(0[1-9]|1[0-9]|2[0-9]|3[01])/(0[1-9]|1[012])/[0-9]{4}" 
          title="Date must be in DD/MM/YYYY format" /></td>
      </tr>
      <tr>
        <td id="td1">Contact Number</td>
        <td><input name="Cno" type="text" maxlength="128" size="50" 
          pattern="[\(]\d{2}[\)]\d{10}" 
          title="Number must be in (XX)XXXXXXXXXX" /></td>
      </tr>
      <tr>
        <td id="td1">Credit Card No</td>
        <td><input name="CCno" type="text" maxlength="128" size="50" 
          pattern="[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}" 
          title="Must be in XXXX-XXXX-XXXX-XXXX format" /></td>
      </tr>
      <tr>
        <td id="td1">Expiry Date (MM/YY)</td>
        <td><input name="ExpDateM" type="number" maxlength="128" size="5" 
          min="1" max="12" />&nbsp;/
        &nbsp;<input name="ExpDateY" type="number" maxlength="128" size="5" 
        min="2017" max="2027" /></td>
      </tr>
      <tr>
        <td id="td1">CVC number</td>
        <td><input name="CVCno" type="text" maxlength="128" size="4" 
          pattern="[0-9]{3}" title="Must be 3 numbers only" /></td>
      </tr>
    </table>
    <input type="submit">
  </form>
  <hr />
  <h1>Part 3: Javascript Code Validation (Alert Box)</h1>
  <form name="P3" onsubmit="return validateform1()" method="get" id="form2">
    <table border="0" id="table1" width="650px">
      <tr>
        <td id="td1">Customer Name</td>
        <td><input name="Cname" type="text" maxlength="128" size="50" /></td>
      </tr>
      <tr>
        <td id="td1">Order Date (DD/MM/YYYY)</td>
        <td><input name="Odate" type="text" maxlength="128" size="50" /></td>
      </tr>
      <tr>
        <td id="td1">Contact Number</td>
        <td><input name="Cno" type="text" maxlength="128" size="50" /></td>
      </tr>
      <tr>
        <td id="td1">Credit Card No</td>
        <td><input name="CCno" type="text" maxlength="128" size="50" /></td>
      </tr>
      <tr>
        <td id="td1">Expiry Date (MM/YY)</td>
        <td><input name="ExpDateM" type="text" maxlength="128" size="5" " />&nbsp;/
        &nbsp;<input name="ExpDateY" type="text" maxlength="128" size="5" /></td>
      </tr>
      <tr>
        <td id="td1">CVC number</td>
        <td><input name="CVCno" type="text" maxlength="128" size="5" /></td>
      </tr>
    </table>
    <input type="submit">
  </form>
  <hr />
  <h1>Part 4: Javascript Code Validation (Error Message)</h1>
  <form name="P4" onsubmit="return validateform2()" method="get" id="form3">
    <table border="0" id="table1" width="1200px">
      <tr>
        <td id="td2">Customer Name</td>
        <td id="td3"><input name="Cname" type="text" maxlength="128" size="50" /></td>
        <td><span id="CnameError" class="ErrorMessage"></span></td>
      </tr>
      <tr>
        <td id="td2">Order Date (DD/MM/YYYY)</td>
        <td id="td3"><input name="Odate" type="text" maxlength="128" size="50" /></td>
        <td><span id="OdateError" class="ErrorMessage"></span></td>
      </tr>
      <tr>
        <td id="td2">Contact Number</td>
        <td id="td3"><input name="Cno" type="text" maxlength="128" size="50" /></td>
        <td><span id="CnoError" class="ErrorMessage"></span></td>
      </tr>
      <tr>
        <td id="td2">Credit Card No</td>
        <td id="td3"><input name="CCno" type="text" maxlength="128" size="50" /></td>
        <td><span id="CCnoError" class="ErrorMessage"></span></td>
      </tr>
      <tr>
        <td id="td2">Expiry Date (MM/YY)</td>
        <td id="td3"><input name="ExpDateM" type="text" maxlength="128" size="5" " />&nbsp;/
        &nbsp;<input name="ExpDateY" type="text" maxlength="128" size="5" /></td>
        <td><span id="ExpDateError" class="ErrorMessage"></span></td>
      </tr>
      <tr>
        <td id="td2">CVC number</td>
        <td id="td3"><input name="CVCno" type="text" maxlength="128" size="5" /></td>
        <td><span id="CVCnoError" class="ErrorMessage"></span></td>
      </tr>
    </table>
    <input type="submit">
  </form>
  <hr />
  &copy; Lur Bing Huii
</body>
</html>